<!DOCTYPE html>
<html>
<head>
<script
src="http://maps.googleapis.com/maps/api/js">
</script>

<script>
  //src = "js/controllers.js"
</script>

<script>
 // src = "js/decoder.js"
</script>


<script>
  // Gets the current position of the user and centers the screen to that
  var lat;
  var lng;
  function getCurrentPos(){
    navigator.geolocation.getCurrentPosition(onSuccess, onError)
    var onSuccess = function(position){
      lat = position.coords.latitude;
      lng = position.coords.longitude;
    }
    //Defaults to London, England if position can not be determined
    var onError = function(){
      alert('code: ' + error.code + '\n' + 'message: ' + error.message + '\n');
      lat = 51.508742;
      lng = -0.120850;
    }
  }
  //Creates a point at the users location
  var myCenter = new google.maps.LatLng(lat,lng);
  
  //Initializes the map
  function initialize() {
    var mapProp = {
      center:new google.maps.LatLng(lat,lng),
      zoom:5,
      mapTypeId:google.maps.MapTypeId.ROADMAP
    };
    var map=new google.maps.Map(document.getElementById("googleMap"), mapProp);
    
    //Creates a Marker at the users current position
    var currentPosMarker = new google.maps.Marker({position:myCenter,
      animation:google.maps.Animation.BOUNCE
    });
    currentPosMarker.setMap(map);
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>
</head>

<body>
<div id="googleMap" style="width:500px;height:380px;"></div>

</body>
</html>